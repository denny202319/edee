(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7371],{95073:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/portfolio",function(){return c(26415)}])},26415:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return z}});var d=c(47568),e=c(26042),f=c(69396),g=c(29815),h=c(34051),i=c.n(h),j=c(85893),k=c(20125),l=c(41334),m=c(85042),n=c(56327),o=c(49316),p=c(18168),q=c(81511),r=c(24925),s=c(95575),t=c(79423),u=c(61964),v=c(60018),w=c(64146),x=c(67294),y={10:[{address:v.Z[10].sonneAddress.toLowerCase(),accrued:q.O.from(0),logo:"/assets/images/sonne-icon.png",symbol:"SONNE",usdAmount:q.O.from(0),decimals:18},{address:v.Z[10].opAddress.toLowerCase(),accrued:q.O.from(0),logo:"/assets/images/OP-logo.svg",symbol:"OP",usdAmount:q.O.from(0),decimals:18},],8453:[{address:v.Z[8453].sonneAddress.toLowerCase(),accrued:q.O.from(0),logo:"/assets/images/sonne-icon.png",symbol:"SONNE",usdAmount:q.O.from(0),decimals:18},]},z=function(){var a,b=(0,s.A)().handleClaimComp,c=(0,t.v)(function(a){return a.chainSupported}),h=(0,r.f)(function(a){return a.sonnePrice}),v=(0,r.f)(function(a){return a.opPrice}),z=(0,x.useState)(!1),A=z[0],B=z[1],C=(0,x.useState)(!0),D=C[0],E=C[1],F=(0,t.v)(function(a){return a.address}),G=(0,t.v)(function(a){return a.network}),H=(0,u.D)(function(a){return a.provider}),I=(0,x.useState)(y[G.chainId]),J=I[0],K=I[1],L=(a=(0,d.Z)(i().mark(function a(){var b,d,g,h,j;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(F){a.next=2;break}return a.abrupt("return");case 2:if(c){a.next=4;break}return a.abrupt("return");case 4:if(H){a.next=6;break}return a.abrupt("return");case 6:return b=H.getSigner(F),d=new w.CH(G.basicLens,p.ED,b),a.next=10,d.callStatic.rewardsAccrued(G.comptrollerAddress,F);case 10:h=(g=a.sent).rewardTokens,j=g.accrued,K(function(){var a=y[G.chainId];return h.forEach(function(b,c){b=b.toLowerCase();var d=a.findIndex(function(a){return a.address===b});if(-1!==d){var g=a[d],h=q.O.from(j[c],g.decimals);a[d]=(0,f.Z)((0,e.Z)({},g),{accrued:h,usdAmount:M(g.symbol,h)})}}),E(!1),a});case 14:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)}),M=function(a,b){var c=q.O.from(0);return"SONNE"===a&&(c=h),"OP"===a&&(c=v),b.mul(c)};(0,x.useEffect)(function(){var a=void 0;return O(),F&&G.basicLens&&G.comptrollerAddress&&H&&c?(L(),a=setInterval(L,25e3)):(clearInterval(a),O()),function(){return clearInterval(a)}},[H,F]);var N,O=function(){K(function(a){return a.forEach(function(a){a.accrued=q.O.from(0),a.usdAmount=q.O.from(0)}),(0,g.Z)(a)})},P=(N=(0,d.Z)(i().mark(function a(){return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return B(!0),a.next=3,b();case 3:B(!1),L();case 5:case"end":return a.stop()}},a)})),function(){return N.apply(this,arguments)});return(0,j.jsx)(j.Fragment,{children:F?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.Z,{showNetwork:!0,title:"Portfolio"}),(0,j.jsxs)("div",{className:"w-ful flex flex-col gap-6 md:flex-row",children:[(0,j.jsx)("div",{className:"flex-1",children:(0,j.jsx)(o.Z,{})}),(0,j.jsx)("div",{className:"flex-1",children:(0,j.jsx)(m.Z,{})})]}),(0,j.jsx)("div",{className:"mb-7 mt-14 w-full text-neutral",children:(0,j.jsx)("div",{className:"flex w-full justify-end px-7",children:(0,j.jsx)("div",{children:(0,j.jsx)(k.Z,{enabled:J.filter(function(a){return a.accrued.gt(q.O.from(0))}).length>0,color:"light",text:"Claim All",wFull:!1,onClick:P,loading:A})})})}),(0,j.jsx)(n.Z,{claimableAssets:J.filter(function(a){return a.accrued.gt(q.O.from(0))}),loading:D})]}):null})}},56327:function(a,b,c){"use strict";c.d(b,{Z:function(){return j}});var d=c(85893),e=c(42),f=c(12759),g=c(56369),h=c(77058),i=c(42503);function j(a){var b=a.claimableAssets,c=a.loading,j=(0,h.$)().t;return(0,d.jsx)("div",{className:"w-full",children:(0,d.jsx)(g.Z,{headers:[j("tables.claimableAsset"),j("tables.amount"),j("tables.usdValue")],bgColor:"bg-supplyBase",searchBar:!1,footer:0!==b.length||c?void 0:{str:j("tables.noRewards"),colSpan:3},children:c?(0,d.jsx)(i.Z,{colSpan:3}):b.map(function(a,b){return(0,d.jsx)(f.Z,{classes:"hover:bg-borrowBase",rowDatas:[(0,d.jsx)(e.Z,{logo:a.logo,symbol:a.symbol},b),"".concat(a.accrued.toRound(8)),"".concat(a.usdAmount.convertToLargeNumberRepresentation(3,"$")),],click:function(a){return a.preventDefault()}},b)})})})}}},function(a){a.O(0,[2685,4575,5538,6465,9774,2888,179],function(){var b;return a(a.s=95073)}),_N_E=a.O()}])