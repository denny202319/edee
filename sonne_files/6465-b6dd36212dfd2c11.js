"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6465],{5908:function(a,b,c){var d=c(47568),e=c(828),f=c(34051),g=c.n(f),h=c(85893),i=c(81511),j=c(190),k=c(95575),l=c(80499),m=c(67294),n=c(43978),o=c(15084),p=c(77058),q=c(79423),r=function(a){var b=a.selectedMarket,c=a.isOpen,d=a.setIsOpen,e=(0,p.$)().t,f=(0,m.useState)([{title:e("common.borrow"),index:1,component:(0,h.jsx)(s,{selectedMarket:b,closeDialog:function(){return d(!1)}}),themeColor:"light"},{title:e("common.repay"),index:2,component:(0,h.jsx)(t,{selectedMarket:b,closeDialog:function(){return d(!1)}}),themeColor:"middle"},]),g=f[0];return f[1],(0,h.jsx)(o.Z,{tabs:g,selectedMarket:b,isOpen:c,setIsOpen:d})},s=function(a){var b=a.selectedMarket,c=a.closeDialog,f=(0,p.$)().t,j=(0,k.A)().handleBorrow,o=(0,l.V)(),r=o.getBorrowStats,s=o.getBorrowLimit,t=o.getRemainingBorrowLimitInUnderlying,u=o.getNewBorrowLimitUsedPct,v=o.getAmountInUsd,w=(0,q.v)(function(a){return a.address}),x=(0,q.v)(function(a){return a.chainSupported}),y=(0,m.useState)(!1),z=y[0],A=y[1],B=(0,m.useState)(""),C=B[0],D=B[1],E=(0,m.useState)(!1),F=E[0],G=E[1],H=(0,m.useState)(),I=H[0],J=H[1],K=(0,m.useState)(0),L=K[0],M=K[1],N=(0,m.useState)(!0),O=N[0],P=N[1],Q=(0,m.useState)(""),R=Q[0],S=Q[1],T=t(b);(0,m.useEffect)(function(){P(!!w),w||S(f("error.connect"))},[w]),(0,m.useEffect)(function(){if(O&&""!==C){if(0>= +C){G(!1),M(0),S(f("error.lt0"));return}if(isNaN(+C)){S(f("error.invalidNm")),G(!1),M(0);return}if(C.includes(".")&&C.split(".")[1].length>b.underlying.decimals){S(f("error.exceedDecimal")),G(!1),M(0);return}if(+C>T){G(!1),S(f("error.exceedBLimit"));return}var a=u(b,+C,!0);if(M(+(+C/T*100).toFixed(0)),J(a.toString()),+C> +b.cash.toString()){G(!1),S(f("error.exceedCash"));return}if(G(!0),a>90){S(f("error.borrowLimitWarning"));return}S("")}},[C]);var U,V=function(a){D(a)},W=function(){var a=99*T/100;if(a.toString().includes(".")){var c=a.toString().split(".")[0],d=a.toString().split(".")[1].length;d>b.underlying.decimals&&(a=+(c+"."+a.toString().split(".")[1].slice(0,b.underlying.decimals)))}V(a.toString())},X=function(a,c){M(c);var d=i.O.parseValue(T.toString()).mul(i.O.from(c)).div(i.O.from(100)).toString();if(d.includes(".")){var f=(0,e.Z)(d.split("."),2),g=f[0],h=f[1],j=h.length,k=b.underlying.decimals;if(j>k){var l=h.slice(0,k);d="".concat(g,".").concat(l)}}V(d.toString())},Y=function(){},Z=(U=(0,d.Z)(g().mark(function a(){var d;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return A(!0),a.next=3,j(b,C);case 3:(d=a.sent)&&c(),A(!1);case 6:case"end":return a.stop()}},a)})),function(){return U.apply(this,arguments)});return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(n.Z,{title:f("dialog.borrowAmount"),subtitle:f("dialog.borrowLimit"),balance:T.toFixed(6),themeColor:"light",approveButton:!1,approveButtonEnabled:!1,infos:[r(b),s(b,I)],selectedMarket:b,otherButtonName:f("common.borrow"),otherButtonEnabled:F&&x,otherButtonLoading:z,approveLoading:!1,handleOnClickApprove:Y,handleOnClickOtherButton:Z,handleOnChangeAmount:V,amount:C,amountInUsd:v(b,C),handleOnClickMax:W,handleSliderChange:X,sliderPct:L,sliderEnabled:T>0,error:R,inputEnabled:O})})},t=function(a){var b=a.selectedMarket,c=a.closeDialog,e=(0,p.$)().t,f=(0,q.v)(function(a){return a.address}),o=(0,j.y)().allowance,r=(0,k.A)(),s=r.handleRepay,t=r.handleEnable,u=(0,l.V)(),v=u.getBorrowStats,w=u.getBorrowLimit,x=u.getNewBorrowLimitUsedPct,y=u.getAmountInUsd,z=(0,q.v)(function(a){return a.chainSupported}),A=(0,m.useState)(!1),B=A[0],C=A[1],D=(0,m.useState)(!1),E=D[0],F=D[1],G=(0,m.useState)(!1),H=G[0],I=G[1],J=(0,m.useState)(""),K=J[0],L=J[1],M=(0,m.useState)(""),N=M[0],O=M[1],P=(0,m.useState)(!1),Q=P[0],R=P[1],S=(0,m.useState)(!1),T=S[0],U=S[1],V=(0,m.useState)(),W=V[0],X=V[1],Y=(0,m.useState)(0),Z=Y[0],$=Y[1],_=(0,m.useState)(!0),aa=_[0],ab=_[1],ac=(0,m.useState)(""),ad=ac[0],ae=ac[1],af=(0,m.useState)(!1),ag=af[0],ah=af[1],ai=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:0;return new Promise(function(b){return setTimeout(b,a)})};(0,m.useEffect)(function(){ai(50).then(function(){b.underlying.walletBalance.eq(i.O.from(0))&&(ae("No balance available to repay."),U(!1),ab(!1))})},[]),(0,m.useEffect)(function(){""===K||0== +K?F(0===o):F(+K>o),ae("")},[o]),(0,m.useEffect)(function(){ab(!!f),f||(ae(e("error.connect")),F(!1))},[f]),(0,m.useEffect)(function(){if(aa&&""!==K){var a=K;if(!Q&&0>= +a){U(!1),$(0),ae(e("error.lt0"));return}if(isNaN(+a)){ae(e("error.invalidNm")),U(!1),$(0);return}if(a.includes(".")&&a.split(".")[1].length>b.underlying.decimals){ae(e("error.exceedDecimal")),U(!1);return}if(b.borrowBalanceInTokenUnit.toString()!==a&&R(!1),+a> +b.borrowBalanceInTokenUnit.toString()){U(!1),ae(e("error.exceedBBalance"));return}if(!Q&& +a> +b.borrowBalanceInTokenUnit.toString()){U(!1),$(0),ae(e("error.exceedBBalance"));return}var c=+a/+b.borrowBalanceInTokenUnit.toString()*100,d=x(b,+a,!1);if(X(d.toString()),Q||$(+c.toFixed(0)),+a> +b.underlying.walletBalance.toString()){U(!1),ae(e("error.exceedWBalance"));return}if(+a>o){F(!0),U(!1),ae(e("error.exceedAllowance"));return}if(F(!1),U(!0),O(a),b.underlying.walletBalance.lt(b.borrowBalanceInTokenUnit)&&ag){ae("Insufficient balance to repay fully.\xa0You'll be paying the maximum available amount."),ah(!1);return}ae("")}},[K,o]),(0,m.useEffect)(function(){Q&&$(100)},[Q]);var aj,ak,al=function(a){L(a)},am=function(){ah(!0);var a=b.borrowBalanceInTokenUnit.toString(),c=a,d=!0;if(a.includes(".")){var e=a.split(".")[0],f=a.split(".")[1].length;f>b.underlying.decimals&&(c=e+"."+a.split(".")[1].slice(0,b.underlying.decimals))}+c> +b.underlying.walletBalance.toString()&&(c=b.underlying.walletBalance.toString(),d=!1),R(d),al(c)},an=function(a,c){var d=(+b.borrowBalanceInTokenUnit.toString()*+c/100).toFixed(b.underlying.decimals);100===c&&(d=b.borrowBalanceInTokenUnit.toString()),!(d>b.underlying.walletBalance.toString())&&(al(d.toString()),R(100===c))},ao=(aj=(0,d.Z)(g().mark(function a(){var c;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return C(!0),a.next=3,t(b);case 3:c=a.sent,C(!1);case 5:case"end":return a.stop()}},a)})),function(){return aj.apply(this,arguments)}),ap=(ak=(0,d.Z)(g().mark(function a(){var d;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return I(!0),a.next=3,s(b,N,Q);case 3:d=a.sent,I(!1),d&&c();case 6:case"end":return a.stop()}},a)})),function(){return ak.apply(this,arguments)});return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(n.Z,{title:e("dialog.repayAmount"),subtitle:e("dialog.borrowBalance"),balance:b.borrowBalanceInTokenUnit.toRound(6),themeColor:"middle",approveButton:!0,approveLoading:B,approveButtonEnabled:E&&z,infos:[v(b),w(b,W)],selectedMarket:b,otherButtonName:e("common.repay"),otherButtonEnabled:T&&z,handleOnClickApprove:ao,handleOnClickOtherButton:ap,amount:K,amountInUsd:y(b,K),handleOnChangeAmount:al,handleOnClickMax:am,otherButtonLoading:H,handleSliderChange:an,sliderPct:Z,sliderEnabled:b.borrowBalanceInTokenUnit.gt(i.O.from(0)),error:ad,inputEnabled:aa})})};b.Z=r},43978:function(a,b,c){c.d(b,{Z:function(){return J}});var d=c(85893),e=c(72684),f=c(86010),g=c(67294);function h(a){var b,c,h,i=a.marketData,j=a.enabled,k=a.title,l=a.subtitle,m=a.themeColor,n=a.onClickMax,o=a.balance,p=a.amount,q=a.onChangeAmount,r=a.amountInUsd,s=(0,g.useState)(p),t=s[0],u=s[1],v=function(a){u(a.target.value),q(a.target.value)};return(0,g.useEffect)(function(){u(p)},[p]),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"font-thin",children:k}),(0,d.jsxs)("span",{className:"font-extralight",children:[l,(0,d.jsxs)("span",{className:(0,f.default)(null===(b=(0,e.l)(m))|| void 0===b?void 0:b.text,"pl-4"),children:[(0,d.jsx)("span",{className:"pr-1",children:o}),null==i?void 0:null===(c=i.underlying)|| void 0===c?void 0:c.symbol]})]})]}),(0,d.jsxs)("div",{className:"bg-background flex justify-between p-2 my-6",children:[(0,d.jsx)("input",{className:"bg-transparent p-2 pl-3 focus:outline-none placeholder:text-2xl placeholder:text-neutral w-full placeholder:opacity-60 placeholder:translate-y-1 text-neutral",type:"text",placeholder:j?"0.00":"",value:t,onChange:function(a){return v(a)},disabled:!j}),(0,d.jsxs)("div",{className:"flex flex-col text-xs font-extralight justify-center px-2 items-end",children:[(0,d.jsx)("span",{className:"",children:null==i?void 0:null===(h=i.underlying)|| void 0===h?void 0:h.symbol}),r&&(0,d.jsxs)("span",{className:"",children:["~$",r]})]}),j&&n&&(0,d.jsx)("button",{onClick:n,children:"Max"})]})]})}var i=c(14924),j=c(74575);function k(a){var b,c,e=a.handleSliderChange,f=a.pctValue,g=a.enabled,h=a.theme,k=a.showMarks,l="#140603",m="middle"===h?"#FD684E":"#FDA669";return(0,d.jsx)(d.Fragment,{children:k?(0,d.jsx)("div",{className:"mb-6 mt-3 mx-1",children:(0,d.jsx)(j.ZP,{value:"number"==typeof f?f:0,onChange:e,"aria-labelledby":"input-slider",valueLabelDisplay:"auto",marks:[{value:0,label:"0%"},{value:25,label:"25%"},{value:50,label:"50%"},{value:75,label:"75%"},{value:100,label:"100%"},],disabled:!g,sx:{color:l,opacity:"1","& .MuiSlider-thumb":(b={color:m},(0,i.Z)(b,"&:hover, &.Mui-focusVisible",{boxShadow:"none"}),(0,i.Z)(b,"&.Mui-active",{boxShadow:"none"}),(0,i.Z)(b,"backgroundColor",l),(0,i.Z)(b,"borderWidth","2px"),(0,i.Z)(b,"borderColor",m),(0,i.Z)(b,"width","14px"),(0,i.Z)(b,"height","14px"),b),"& .MuiSlider-mark":{color:l,borderWidth:"2px",backgroundColor:l,borderColor:m,width:"8px",height:"8px",borderRadius:"50%"},"& .MuiSlider-markLabel":{color:"rgb(254 241 236)",fontFamily:"Lexend",fontWeight:100},"& .MuiSlider-rail":{color:l},"& .MuiSlider-markActive":{color:m,backgroundColor:m},"& .MuiSlider-track":{color:m},"& .MuiSlider-valueLabel":{lineHeight:1.2,fontSize:12,background:"unset",padding:0,width:32,height:20,borderRadius:"5px",backgroundColor:l,opacity:.7,color:m}}})}):(0,d.jsx)("div",{className:"mb-6 mt-3 mx-1",children:(0,d.jsx)(j.ZP,{value:"number"==typeof f?f:0,onChange:e,"aria-labelledby":"input-slider",valueLabelDisplay:"auto",disabled:!g,sx:{color:l,opacity:"1","& .MuiSlider-thumb":(c={color:m},(0,i.Z)(c,"&:hover, &.Mui-focusVisible",{boxShadow:"none"}),(0,i.Z)(c,"&.Mui-active",{boxShadow:"none"}),(0,i.Z)(c,"backgroundColor",l),(0,i.Z)(c,"borderWidth","2px"),(0,i.Z)(c,"borderColor",m),(0,i.Z)(c,"width","14px"),(0,i.Z)(c,"height","14px"),c),"& .MuiSlider-rail":{color:l},"& .MuiSlider-track":{color:m},"& .MuiSlider-valueLabel":{lineHeight:1.2,fontSize:12,background:"unset",padding:0,width:32,height:20,borderRadius:"5px",backgroundColor:l,opacity:.7,color:m}}})})})}var l=c(20125),m=function(a){var b=a.title,c=a.infos,e=a.noMarginTop;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"py-2 mt-2.5 mb-2.5 text-dialog-stat-header",children:b}),c.map(function(a,b){return(0,d.jsxs)("div",{className:(0,f.default)("flex justify-between items-center text-dialog-stat-item",e?"":"mt-1.5"),children:[(0,d.jsx)(d.Fragment,{children:a.title}),(0,d.jsx)(d.Fragment,{children:a.value})]},b)})]})},n=c(77058),o=c(47568),p=c(26042),q=c(69396),r=c(34051),s=c.n(r),t=c(11355),u=c(85479),v=c(95575),w=c(81511),x=c(86501),y=c(81811),z=c(5506),A=c(64529),B=c(61964),C=c(79423),D=c(81498),E={ethBalance:w.O.from(0),wethBalance:w.O.from(0)},F=(0,A.Ue)(function(a,b){return(0,q.Z)((0,p.Z)({},E),{setBalances:(0,o.Z)(s().mark(function b(){var c,d,e,f,g,h,i;return s().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(c=B.D.getState().provider,d=C.v.getState().network,e=C.v.getState().address,f=D.Z.getState().markets,!(!c||!e)){b.next=6;break}return b.abrupt("return");case 6:return g=c.getSigner(e),h=f[d.chainId].find(function(a){return"weth"===a.underlying.symbol.toLowerCase()}).underlying.walletBalance,b.next=10,g.getBalance();case 10:i=b.sent,a({ethBalance:w.O.from(i,18),wethBalance:h});case 12:case"end":return b.stop()}},b)})),reset:function(){return a((0,p.Z)({},E))}})}),G=function(a){var b=a.isOpen,c=a.setIsOpen,e=(0,n.$)().t,h=(0,g.useState)(!0),i=h[0],j=h[1],k=(0,g.useState)(""),m=k[0],r=k[1],A=(0,g.useState)(""),B=A[0],C=A[1],D=(0,v.A)(),E=D.handleWrap,G=D.handleUnwrap,H=F(function(a){return a.ethBalance}),I=F(function(a){return a.wethBalance}),J=F(function(a){return a.setBalances}),K=(0,g.useState)({text:"Wrap",enabled:!1,loading:!1}),L=K[0],M=K[1];(0,g.useEffect)(function(){J()},[]),(0,g.useEffect)(function(){var a=!1;if(""===B){r(""),M(function(a){return(0,q.Z)((0,p.Z)({},a),{enabled:!1})});return}if(isNaN(+B)){r(e("error.invalidNm")),M(function(a){return(0,q.Z)((0,p.Z)({},a),{enabled:!1})});return}if(B.includes(".")&&B.split(".")[1].length>18){r(e("error.exceedDecimal")),M(function(a){return(0,q.Z)((0,p.Z)({},a),{enabled:!1})});return}var b=w.O.parseValue(B,18);if(b.gt(i?H:I)){r(e("error.insufficientBalance")),M(function(a){return(0,q.Z)((0,p.Z)({},a),{enabled:!1})});return}if(b.lte(w.O.from(0))){r(e("error.lt0")),M(function(a){return(0,q.Z)((0,p.Z)({},a),{enabled:!1})});return}return M(function(a){return(0,q.Z)((0,p.Z)({},a),{enabled:!0})}),r(""),function(){a=!0}},[B]),(0,g.useEffect)(function(){b&&(J(),j(!0),M((0,q.Z)((0,p.Z)({},L),{text:"Wrap",loading:!1})))},[b]);var N,O=function(){c(!1),P()},P=function(){r(""),C("")},Q=function(a){C(a.target.value)},R=function(){i?C(H.toString()):C(I.toString())},S=function(){j(!i),M((0,q.Z)((0,p.Z)({},L),{text:i?"Unwrap":"Wrap"})),P()},T=(N=(0,o.Z)(s().mark(function a(){var b;return s().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(M((0,q.Z)((0,p.Z)({},L),{loading:!0})),!i){a.next=7;break}return a.next=4,E(parseFloat(B));case 4:a.t0=a.sent,a.next=10;break;case 7:return a.next=9,G(w.O.parseValue(B,18));case 9:a.t0=a.sent;case 10:b=a.t0,J(),b&&P(),M((0,q.Z)((0,p.Z)({},L),{loading:!1}));case 14:case"end":return a.stop()}},a)})),function(){return N.apply(this,arguments)});return(0,d.jsx)(t.u,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",show:b,children:(0,d.jsxs)(u.V,{className:"relative z-50",onClose:O,children:[(0,d.jsx)(t.u.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),(0,d.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,d.jsxs)("div",{className:"mt-4 flex min-h-full items-center justify-center p-4",children:[(0,d.jsxs)(u.V.Panel,{className:(0,f.default)("mx-auto rounded-2xl bg-primary text-neutral sm:w-[440px]","mt-12 sm:mt-0"),children:[(0,d.jsxs)("div",{className:"flex w-full items-baseline justify-between border-b-2 border-b-light",children:[(0,d.jsx)("p",{className:"pt-8 pb-4 pl-6 text-left text-[21px] font-light text-light",children:i?"Wrap ETH":"Unwrap WETH"}),(0,d.jsx)("div",{className:"border-primary rounded-md mr-6 hover:border-light border-[1px] cursor-pointer p-1",onClick:O,children:(0,d.jsx)(z.Z,{className:"w-4 h-4 text-light "})})]}),(0,d.jsxs)("div",{className:"px-6 pb-6",children:[(0,d.jsx)(y.Z,{title:"",balance:i?H.toString():I.toString(),amount:B,onChangeAmount:Q,onClickMax:R,symbol:i?"ETH":"WETH",enabled:!0}),(0,d.jsx)("div",{className:"flex w-full justify-center pt-4",children:(0,d.jsxs)("button",{onClick:S,className:"flex",children:[(0,d.jsx)("img",{src:"/assets/images/arrow-down.svg",width:24,height:24,className:"translate-x-1.5"}),(0,d.jsx)("img",{src:"/assets/images/arrow-up.svg",width:24,height:24,className:"-translate-x-1.5"})]})}),(0,d.jsx)(y.Z,{title:"",balance:i?I.toString():H.toString(),amount:m?"":B,onChangeAmount:Q,onClickMax:R,symbol:i?"WETH":"ETH",enabled:!1,showMax:!1}),(0,d.jsx)("div",{className:"flex justify-between",children:(0,d.jsx)("span",{className:(0,f.default)("text-[13px]  font-extralight self-end text-error"),children:m})}),(0,d.jsx)(l.Z,{text:L.text,color:"light",enabled:L.enabled,onClick:T,wFull:!0,loading:L.loading,classes:"text-neutral mt-6"})]})]}),(0,d.jsx)(x.x7,{})]})})]})})},H=G,I=function(a){var b,c,i=a.themeColor,j=a.selectedMarket,o=a.title,p=a.subtitle,q=a.balance,r=a.approveButton,s=a.approveButtonEnabled,t=a.approveLoading,u=a.infos,v=a.otherButtonName,w=a.otherButtonEnabled,x=a.otherButtonLoading,y=a.handleOnClickApprove,z=a.handleOnClickOtherButton,A=a.amount,B=a.amountInUsd,D=a.inputEnabled,E=a.handleOnChangeAmount,F=a.handleOnClickMax,G=a.handleSliderChange,I=a.sliderPct,J=a.sliderEnabled,K=a.error,L=(0,n.$)().t,M=(0,C.v)(function(a){return a.address}),N=(0,g.useState)(!1),O=N[0],P=N[1];return(0,d.jsxs)("div",{className:"w-full p-6",children:[(0,d.jsx)(h,{marketData:j,enabled:D,title:o,subtitle:p,themeColor:i,balance:q,onClickMax:F,onChangeAmount:function(a){return E(a)},amount:A,amountInUsd:B}),(0,d.jsx)("div",{className:"flex justify-between",children:(0,d.jsx)("span",{className:(0,f.default)("text-[13px]  font-extralight self-end text-error"),children:K})}),(0,d.jsx)(k,{pctValue:I,handleSliderChange:G,theme:i,enabled:J,showMarks:!0}),"weth"===j.underlying.symbol.toLowerCase()&&(0,d.jsx)("div",{className:"w-full flex justify-end",onClick:function(){return P(!0)},children:(0,d.jsx)("button",{disabled:!M,className:(0,f.default)("disabled:opacity-40 border-[1px] px-3 py-1 text-xs font-light rounded-xl transition-all ease-in-out",null===(b=(0,e.l)(i))|| void 0===b?void 0:b.border,null===(c=(0,e.l)(i))|| void 0===c?void 0:c.hoverBg),children:"Convert: ETH ⇄ WETH"})}),u&&u.map(function(a,b){return(0,d.jsx)(m,{title:a.title,infos:a.infos},b)}),(null==j?void 0:j.isNativeToken)?(0,d.jsx)("div",{className:"pt-8",children:(0,d.jsx)(l.Z,{color:i,text:v,wFull:!0,onClick:z,loading:x,enabled:w,classes:"mt-8"})}):r?(0,d.jsxs)("div",{className:"flex justify-between sm:gap-12 gap-4 pt-8",children:[(0,d.jsx)(l.Z,{color:i,text:L("common.approve"),number:"1",wFull:!0,onClick:y,loading:t,enabled:s,approveButton:!0}),(0,d.jsx)(l.Z,{color:i,text:v,number:"2",wFull:!0,onClick:z,loading:x,enabled:w})]}):(0,d.jsx)("div",{className:"pt-8",children:(0,d.jsx)(l.Z,{color:i,text:v,wFull:!0,onClick:z,loading:x,enabled:w})}),(0,d.jsx)(H,{isOpen:O,setIsOpen:P})]})},J=I},15084:function(a,b,c){c.d(b,{Z:function(){return n}});var d=c(85893),e=c(11355),f=c(85479),g=c(67294),h=c(86010),i=c(72684),j=c(34194);function k(a){var b,c,e=a.color,f=a.marketData;return(0,j.$)().addToMetamask,(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"w-full flex justify-center",children:(null==f?void 0:null===(b=f.underlying)|| void 0===b?void 0:b.logo)?(0,d.jsx)("div",{className:"rounded-full w-11 h-11 -translate-y-[22px]",children:(0,d.jsx)("img",{src:f.underlying.logo,width:44,height:44,alt:"logo"})}):(0,d.jsx)("div",{className:"rounded-full w-11 h-11 -translate-y-[22px]"})}),(0,d.jsx)("div",{className:"w-full flex justify-center",children:(0,d.jsx)("div",{className:(0,h.default)("rounded-md px-2 inline -translate-y-[26px] z-10 text-background",null===(c=(0,i.l)(e))|| void 0===c?void 0:c.bg),children:f.underlying.symbol})})]})}var l=c(50776),m=c(88705),n=function(a){var b=a.tabs,c=a.selectedMarket,j=a.isOpen,n=a.setIsOpen,o=(0,g.useState)(b[0]),p=o[0],q=o[1],r=(0,m.M)(),s=r.txApproved,t=r.setTxApproved;if(r.expertMode,(0,g.useEffect)(function(){s&&(n(!1),t(!1))},[s]),!j)return null;var u=function(){n(!1)};return(0,d.jsx)(e.u,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",show:j,children:(0,d.jsxs)(f.V,{className:"relative z-50",onClose:u,children:[(0,d.jsx)(e.u.Child,{as:g.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),(0,d.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,d.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 mt-4",children:(0,d.jsxs)(f.V.Panel,{className:(0,h.default)("sm:w-[440px] rounded-2xl bg-supplyBase text-neutral mx-auto","sm:mt-0 mt-12"),children:[(0,d.jsx)(k,{marketData:c,color:p.themeColor}),(0,d.jsxs)(l.mQ,{className:"w-full",children:[(0,d.jsx)(l.td,{className:"flex list-none flex-wrap flex-row",children:b.map(function(a,b){var c,e;return(0,d.jsx)(l.OK,{className:"flex-auto text-center focus-visible:outline-none",children:(0,d.jsx)("a",{className:(0,h.default)("w-full pb-4 text-xl leading-5 block focus:outline-none outline-none focus-visible:outline-none",p===a?(0,h.default)(null===(c=(0,i.l)(a.themeColor))|| void 0===c?void 0:c.borderB,null===(e=(0,i.l)(a.themeColor))|| void 0===e?void 0:e.text,"border-b-2 font-light"):"font-thin text-neutral"),onClick:function(b){b.preventDefault(),q(a)},"data-toggle":"tab",href:"#link".concat(a.index),children:a.title})},b)})}),(0,d.jsx)(l.x4,{children:b[0].component}),(0,d.jsx)(l.x4,{children:b[1].component})]})]})})})]})})}},89040:function(a,b,c){var d=c(47568),e=c(34051),f=c.n(e),g=c(85893),h=c(81511),i=c(88705),j=c(190),k=c(95575),l=c(80499),m=c(67294),n=c(43978),o=c(15084),p=c(77058),q=c(79423),r=function(a){var b=a.selectedMarket,c=a.isOpen,d=a.setIsOpen,e=(0,p.$)().t,f=(0,m.useState)([{title:e("common.supply"),index:1,component:(0,g.jsx)(s,{selectedMarket:b,closeDialog:function(){return d(!1)}}),themeColor:"light"},{title:e("common.withdraw"),index:2,component:(0,g.jsx)(t,{selectedMarket:b,closeDialog:function(){return d(!1)}}),themeColor:"middle"},]),h=f[0];return f[1],(0,g.jsx)(o.Z,{tabs:h,selectedMarket:b,isOpen:c,setIsOpen:d})},s=function(a){var b=a.selectedMarket,c=a.closeDialog,e=(0,p.$)().t,o=(0,q.v)(function(a){return a.address}),r=(0,j.y)().allowance,s=(0,k.A)(),t=s.handleSupply,u=s.handleEnable,v=(0,i.M)().expertMode,w=(0,l.V)(),x=w.getSupplyStatsWithReward,y=w.getCollateralStats,z=w.getBorrowLimit,A=w.getAmountInUsd,B=w.getNewBorrowLimitUsedPctAfterSupply,C=w.getNewBorrowLimitAfterSupply,D=(0,q.v)(function(a){return a.chainSupported}),E=(0,m.useState)(!1),F=E[0],G=E[1],H=(0,m.useState)(!1),I=H[0],J=H[1],K=(0,m.useState)(0===r),L=K[0],M=K[1],N=(0,m.useState)(!1),O=N[0],P=N[1],Q=(0,m.useState)(""),R=Q[0],S=Q[1],T=(0,m.useState)(!1),U=(T[0],T[1]),V=(0,m.useState)(!1),W=V[0],X=V[1],Y=(0,m.useState)(0),Z=Y[0],$=Y[1],_=(0,m.useState)(),aa=_[0],ab=_[1],ac=(0,m.useState)(""),ad=ac[0],ae=ac[1],af=(0,m.useState)(!1);af[0],af[1];var ag=+b.underlying.walletBalance.toString();(0,m.useEffect)(function(){""===R||0== +R?M(0===r):M(+R>r),ae("")},[r,R]),(0,m.useEffect)(function(){P(!!o),o||(ae(e("error.connect")),M(!1))},[o]),(0,m.useEffect)(function(){if(O&&""!==R){if(0>= +R){X(!1),$(0),ae(e("error.lt0"));return}if(isNaN(+R)){ae(e("error.invalidNm")),X(!1),$(0);return}if(R.includes(".")&&R.split(".")[1].length>b.underlying.decimals){ae(e("error.exceedDecimal")),X(!1);return}if(+R> +ag){U(!0),X(!1),$(0),ae(e("error.exceedWBalance"));return}if(+R>r){M(!0),X(!1),ae(e("error.exceedAllowance"));return}M(!1);var a=+R/+b.underlying.walletBalance.toString()*100,c=B(b,R,!0);if(ab(c.toString()),$(+a.toFixed(0)),X(!0),c>90){ae(e("error.borrowLimitWarning"));return}ae("")}},[R,r]);var ah,ai,aj=function(a,b){S(b?ag.toString():a)},ak=(ah=(0,d.Z)(f().mark(function a(){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return G(!0),a.next=3,u(b);case 3:c=a.sent,G(!1);case 5:case"end":return a.stop()}},a)})),function(){return ah.apply(this,arguments)}),al=(ai=(0,d.Z)(f().mark(function a(){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return J(!0),a.next=3,t(b,R);case 3:d=a.sent,J(!1),d&&c();case 6:case"end":return a.stop()}},a)})),function(){return ai.apply(this,arguments)}),am=function(){S(ag.toString())},an=function(a,b){$(b),aj((+ag*+b/100).toFixed(6).toString(),100===b)};return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(n.Z,{title:e("dialog.supplyAmount"),subtitle:e("dialog.walletBalance"),balance:b.underlying.walletBalance.toRound(6),themeColor:"light",approveButton:!0,approveLoading:F,approveButtonEnabled:L&&D,infos:v?[x(b),y(b),z(b,aa,C(b,R.toString(),!0)),]:[x(b),z(b,aa,C(b,R.toString(),!0)),],selectedMarket:b,otherButtonName:e("common.supply"),otherButtonEnabled:W&&D,handleOnClickApprove:ak,handleOnClickOtherButton:al,otherButtonLoading:I,amount:R,amountInUsd:A(b,R),handleOnChangeAmount:aj,handleOnClickMax:am,handleSliderChange:an,sliderPct:Z,sliderEnabled:b.underlying.walletBalance.gt(h.O.from(0)),error:ad,inputEnabled:O})})},t=function(a){var b=a.selectedMarket,c=a.closeDialog,e=(0,p.$)().t,i=(0,q.v)(function(a){return a.address}),j=(0,k.A)().handleWithdraw,o=(0,l.V)(),r=o.getSupplyStats,s=o.getBorrowLimit,t=o.getAmountInUsd,u=o.getNewBorrowLimitAfterSupply,v=o.getNewBorrowLimitUsedPctAfterSupply,w=(0,q.v)(function(a){return a.chainSupported}),x=(0,m.useState)(!1),y=x[0],z=x[1],A=(0,m.useState)(""),B=A[0],C=A[1],D=(0,m.useState)(!1),E=D[0],F=D[1],G=(0,m.useState)(!1),H=G[0],I=G[1],J=(0,m.useState)(),K=J[0],L=J[1],M=(0,m.useState)(0),N=M[0],O=M[1],P=(0,m.useState)(!1),Q=P[0],R=P[1],S=(0,m.useState)(""),T=S[0],U=S[1];(0,m.useEffect)(function(){R(!!i),i||U(e("error.connect"))},[i]),(0,m.useEffect)(function(){if(Q){if(!E&&0>= +B){I(!1),O(0),U(e("error.lt0"));return}if(isNaN(+B)){U(e("error.invalidNm")),I(!1),O(0);return}if(B.includes(".")&&B.split(".")[1].length>b.underlying.decimals){U(e("error.exceedDecimal")),I(!1);return}if(!E&& +B> +b.supplyBalanceInTokenUnit.toString()){I(!1),O(0),U(e("error.exceedSBalance"));return}var a=+B/+b.supplyBalanceInTokenUnit.toString()*100,c=v(b,B,!1);if(c>100){I(!1),L(c.toString()),U(e("error.insufficientCol"));return}if(L(c.toString()),E||O(+a.toFixed(0)),+B> +b.cash.toString()){I(!1),U(e("error.insufficientLiq"));return}if(I(!0),c>90){U(e("error.borrowLimitWarning"));return}U("")}},[B]),(0,m.useEffect)(function(){E&&O(100)},[E]);var V,W,X=function(a){C(a)},Y=function(){X(b.supplyBalanceInTokenUnit.toFixed(b.underlying.decimals)),F(!0)},Z=function(a,c){O(c),X((+b.supplyBalanceInTokenUnit.toString()*+c/100).toFixed(b.underlying.decimals).toString()),F(100===c)},$=(V=(0,d.Z)(f().mark(function a(){var d;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return z(!0),a.next=3,j(b,B,E);case 3:d=a.sent,z(!1),d&&c();case 6:case"end":return a.stop()}},a)})),function(){return V.apply(this,arguments)}),_=(W=(0,d.Z)(f().mark(function a(){return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case"end":return a.stop()}},a)})),function(){return W.apply(this,arguments)});return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(n.Z,{title:e("dialog.withdrawAmount"),subtitle:e("dialog.supplyBalance"),balance:b.supplyBalanceInTokenUnit.toRound(6),themeColor:"middle",approveButton:!1,approveButtonEnabled:!1,approveLoading:!1,infos:[r(b),s(b,K,u(b,B.toString(),!1)),],selectedMarket:b,otherButtonName:e("common.withdraw"),otherButtonEnabled:H&&w,otherButtonLoading:y,handleOnClickApprove:_,handleOnClickOtherButton:$,amount:B,amountInUsd:t(b,B),handleOnChangeAmount:X,handleOnClickMax:Y,handleSliderChange:Z,sliderPct:N,sliderEnabled:b.supplyBalanceInTokenUnit.gt(h.O.from(0)),error:T,inputEnabled:Q})})};b.Z=r},42:function(a,b,c){c.d(b,{Z:function(){return e}});var d=c(85893);function e(a){var b=a.logo,c=a.symbol;return(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"flex items-center gap-3 h-6 w-6",children:(0,d.jsx)("img",{className:"h-6 w-6",src:b,alt:b})}),(0,d.jsx)("p",{children:c})]})}},85042:function(a,b,c){c.d(b,{Z:function(){return u}});var d=c(828),e=c(85893),f=c(5908),g=c(20373),h=c(81511),i=c(80499),j=c(67294),k=c(42),l=c(12759),m=c(56369),n=c(77058),o=c(99008),p=c(79423),q=c(42503),r=c(62791),s=c(81498),t=c(34277);function u(){var a=(0,n.$)().t,b=(0,i.V)().getPctOfUsedBorrowLimitPerMarket,c=(0,p.v)(function(a){return a.chainSupported}),u=(0,p.v)(function(a){return a.address}),v=(0,p.v)(function(a){return a.network}),w=(0,s.Z)(function(a){return a.markets})[v.chainId],x=(0,s.Z)(function(a){return a.setSelectedMarketSymbol}),y=(0,t.y)(function(a){return a.generalData})[v.chainId],z=(0,d.Z)(j.useState(),2),A=z[0],B=z[1],C=(0,d.Z)(j.useState([]),2),D=C[0],E=C[1],F=(0,d.Z)(j.useState(!1),2),G=F[0],H=F[1],I=(0,d.Z)(j.useState(!1),2),J=I[0],K=I[1],L=(0,j.useState)(!0),M=L[0],N=L[1],O=function(a){B(a),x(a.underlying.symbol),H(!0)},P=function(){w&&c?(E(w.filter(function(a){return a.borrowBalanceInTokenUnit.gt(h.O.from(0))})),N(!1)):(E([]),N(!1))};return(0,j.useEffect)(function(){P()},[]),(0,j.useEffect)(function(){E([]),P()},[v,w,u]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g.Z,{title1:a("tables.yBorrowBalance"),value1:(null==y?void 0:y.totalBorrowBalance)?null==y?void 0:y.totalBorrowBalance.toRound(2,!0,!0):"0.00",title2:a("tables.yBorrowLimit"),value2:(null==y?void 0:y.totalBorrowLimitUsedPercent)?null==y?void 0:y.totalBorrowLimitUsedPercent.toFixed(2):"0.00"}),(0,e.jsx)(m.Z,{headers:[a("tables.borrowedAsset"),a("tables.apyAccrued"),a("tables.rewardApy"),a("tables.balance"),a("tables.borrowLimit"),],bgColor:"bg-borrowBase",footer:M||0!==D.length?void 0:{str:"You have no borrowed assets",colSpan:5},children:M?(0,e.jsx)(q.Z,{colSpan:5}):D.map(function(a,c){return(0,e.jsx)(l.Z,{rowDatas:[(0,e.jsx)(k.Z,{logo:a.underlying.logo,symbol:a.underlying.symbol},c),"".concat(a.borrowApy.mul(h.O.from("100")).toFixed(2),"%"),(0,e.jsx)(o.Z,{market:a,onClickReward:J,setOnClickReward:K,type:o.E.borrow},c),"".concat(a.borrowBalanceInTokenUnit.toFixed((0,r.vQ)(a))," ").concat(a.underlying.symbol),"".concat(b(a).toFixed(2),"%"),],click:function(b){b.preventDefault(),O(a)},classes:"hover:bg-supplyBase"},c)})}),G&&A&&(0,e.jsx)(f.Z,{isOpen:G,setIsOpen:H,selectedMarket:A})]})}},49316:function(a,b,c){c.d(b,{Z:function(){return y}});var d=c(47568),e=c(828),f=c(34051),g=c.n(f),h=c(85893),i=c(89040),j=c(20373),k=c(81511),l=c(95575),m=c(49096),n=c(67294),o=c(42),p=c(12759),q=c(56369),r=c(77058),s=c(99008),t=c(79423),u=c(42503),v=c(62791),w=c(81498),x=c(34277);function y(){var a,b=(0,r.$)().t,c=(0,l.A)(),f=c.handleEnterMarket,y=c.handleExitMarket,z=(0,t.v)(function(a){return a.chainSupported}),A=(0,t.v)(function(a){return a.address}),B=(0,t.v)(function(a){return a.network}),C=(0,w.Z)(function(a){return a.markets})[B.chainId],D=(0,w.Z)(function(a){return a.setSelectedMarketSymbol}),E=(0,x.y)(function(a){return a.generalData})[B.chainId],F=(0,e.Z)(n.useState(),2),G=F[0],H=F[1],I=(0,e.Z)(n.useState([]),2),J=I[0],K=I[1],L=(0,e.Z)(n.useState(!1),2),M=L[0],N=L[1],O=(0,e.Z)(n.useState(!1),2),P=O[0],Q=O[1],R=(0,n.useState)(!0),S=R[0],T=R[1],U=function(a){H(a),D(a.underlying.symbol),N(!0)},V=function(){C&&z?(K(C.filter(function(a){return a.supplyBalanceInTokenUnit.gt(k.O.from(0))})),T(!1)):(K([]),T(!1))};(0,n.useEffect)(function(){V()},[]),(0,n.useEffect)(function(){K([]),V()},[B,C,A]);var W=(a=(0,d.Z)(g().mark(function a(b){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!b.isEnterMarket){a.next=5;break}return a.next=3,y(b);case 3:a.next=7;break;case 5:return a.next=7,f(b);case 7:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(j.Z,{title1:b("tables.ySupplyBalance"),value1:(null==E?void 0:E.totalSupplyBalance)?null==E?void 0:E.totalSupplyBalance.toRound(2,!0,!0):"0.00",title2:b("tables.netApy"),value2:(null==E?void 0:E.netApy)?null==E?void 0:E.netApy.toFixed(2):"0.00"}),(0,h.jsx)(q.Z,{headers:[b("tables.suppliedAsset"),b("tables.apyEarned"),b("tables.rewardApy"),b("tables.balance"),b("tables.collateral"),],bgColor:"bg-supplyBase",footer:S||0!==J.length?void 0:{str:"You have no supplied assets",colSpan:5},children:S?(0,h.jsx)(u.Z,{colSpan:5}):J.map(function(a,b){return(0,h.jsx)(p.Z,{rowDatas:[(0,h.jsx)(o.Z,{logo:a.underlying.logo,symbol:a.underlying.symbol},b),"".concat(a.supplyApy.mul(k.O.from("100")).toFixed(2),"%"),(0,h.jsx)(s.Z,{market:a,onClickReward:P,setOnClickReward:Q,type:s.E.supply},b),"".concat(a.supplyBalanceInTokenUnit.toFixed((0,v.vQ)(a))," ").concat(a.underlying.symbol),(0,h.jsx)(m.r,{checked:a.isEnterMarket,onChange:function(){W(a)},as:n.Fragment,children:function(a){var b=a.checked;return(0,h.jsxs)("button",{onClick:function(a){a.stopPropagation()},className:"".concat(b?"bg-middle":"bg-stake"," relative inline-flex h-[14px] w-[29px] items-center rounded-full"),children:[(0,h.jsx)("span",{className:"sr-only",children:"Enter Market"}),(0,h.jsx)("span",{className:"".concat(b?"translate-x-4":"translate-x-0.5"," inline-block h-[11px] w-[11px] transform rounded-full bg-background transition")})]})}},b),],click:function(b){b.preventDefault(),b.stopPropagation(),U(a)},classes:"hover:bg-borrowBase"},b)})}),M&&G&&(0,h.jsx)(i.Z,{isOpen:M,setIsOpen:N,selectedMarket:G})]})}},99008:function(a,b,c){c.d(b,{E:function(){return d},Z:function(){return k}});var d,e,f=c(85893),g=c(81269),h=c(79423),i=c(86010),j=c(67294);function k(a){var b=a.market,c=a.type,e=a.onClickReward,k=a.setOnClickReward,l=(0,h.v)(function(a){return a.network});(0,j.useEffect)(function(){if(e){var a=function(){k(!1)};return e&&document.addEventListener("click",a,{capture:!0}),function(){document.removeEventListener("click",a,{capture:!0})}}},[e]);var m=c===d.supply?b.rewardAprs.sonneSupplyApr:b.rewardAprs.sonneBorrowApr,n=c===d.supply?b.rewardAprs.opSupplyApr:b.rewardAprs.opBorrowApr,o=c===d.supply?b.rewardAprs.sonneSupplyApr.add(b.rewardAprs.opSupplyApr):b.rewardAprs.sonneBorrowApr.add(b.rewardAprs.opBorrowApr),p=l.chainId===g.rC?"-top-14 before:top-2/3 ":"-top-6 before:top-1/2";return(0,f.jsxs)("div",{className:"group relative inline-flex items-center gap-1 text-light",onClick:function(a){a.stopPropagation(),k(!0)},children:[o.toFixed(2),"%",(0,f.jsx)("div",{className:(0,i.default)("cursor-pointer text-[12px] duration-300 sm:text-[16px]"),children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#FDA669",className:"h-4 w-4",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})})}),(0,f.jsx)("span",{className:(0,i.default)("absolute right-6 z-10 hidden w-auto rounded-xl bg-background p-4 text-center before:absolute before:left-[100%] before:-translate-y-1/5  before:border-8  before:border-y-transparent before:border-l-background before:border-r-transparent before:content-[''] group-hover:flex",p),children:(0,f.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,f.jsxs)("div",{className:"flex w-full items-center justify-center gap-2",children:[(0,f.jsxs)("p",{children:[m.toFixed(2),"%"]}),(0,f.jsx)("img",{src:"/assets/images/sonne-icon.png",className:"object-contain",alt:"",width:16,height:16})]}),l.chainId===g.rC&&(0,f.jsxs)("div",{className:"flex w-full items-center justify-center gap-2",children:[(0,f.jsxs)("p",{children:[n.toFixed(2),"%"]}),(0,f.jsx)("img",{src:"/assets/images/OP-logo.svg",className:"object-contain",alt:"",width:16,height:16})]})]})})]})}(e=d||(d={})).supply="supply",e.borrow="borrow"},42503:function(a,b,c){c.d(b,{Z:function(){return e}});var d=c(85893);function e(a){var b=a.colSpan;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("tr",{role:"status",className:"animate-pulse",children:(0,d.jsx)("td",{className:"h-2.5 rounded-full bg-neutral text-sm font-light dark:bg-neutral dark:bg-opacity-10",colSpan:b})})})}c(67294)},12759:function(a,b,c){c.d(b,{Z:function(){return f}});var d=c(85893),e=c(86010);function f(a){var b=a.rowDatas,c=a.classes,f=a.click;return(0,d.jsx)("tr",{className:(0,e.default)("cursor-pointer",c),children:b.map(function(a,c){return(0,d.jsx)("td",{className:(0,e.default)("p-3 text-table-row text-neutral whitespace-nowrap",0===c?"text-left":"text-right",c+1!==b.length?"pr-8 md:pr-4":""),onClick:function(a){return f(a)},children:a},c)})})}c(67294)},56369:function(a,b,c){c.d(b,{Z:function(){return i}});var d=c(85893);function e(a){var b=a.handleChange;return(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)("div",{className:"mb-6 mt-2 w-full",children:(0,d.jsx)("div",{className:"input-group relative flex flex-wrap items-stretch w-full rounded-full bg-background h-8",children:(0,d.jsxs)("div",{className:"flex items-center w-full",children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"#FDA669",className:"bi bi-search mx-4",viewBox:"0 0 16 16",children:(0,d.jsx)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})}),(0,d.jsx)("input",{type:"search",className:"bg-transparent w-full focus:outline-none text-neutral font-light text-lg placeholder:font-thin placeholder:opacity-40 placeholder:text-light",placeholder:"Search","aria-label":"Search",onChange:function(a){return b(a)}})]})})})})}var f=c(86010);function g(a){var b=a.text,c=a.colSpan;return(0,d.jsx)("tfoot",{children:(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:c,className:"text-center text-neutral text-sm font-extralight",children:b})})})}function h(a){var b=a.headers;return(0,d.jsx)("thead",{className:"h-16",children:(0,d.jsx)("tr",{children:b.map(function(a,c){return(0,d.jsxs)("th",{className:(0,f.default)("text-table-header text-neutral",0===c?"text-left px-3 py-4":"text-right",c+1!==b.length?"pr-8 md:pr-4":""),children:[" ",a]},c)})})})}function i(a){var b=a.classes,c=a.searchBar,i=a.searchChange,j=a.bgColor,k=a.headers,l=a.footer,m=a.children;return(0,d.jsx)("div",{className:(0,f.default)(b,"w-full"),children:(0,d.jsxs)("div",{className:(0,f.default)("py-4 rounded-2xl px-7",j),children:[c&&i&&(0,d.jsx)(e,{handleChange:function(a){return i(a)}}),(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:(0,f.default)("w-full"),children:[(0,d.jsx)(h,{headers:k}),(0,d.jsx)("tbody",{children:m}),l&&(0,d.jsx)(g,{text:l.str,colSpan:l.colSpan})]})})]})})}c(67294)},20373:function(a,b,c){c.d(b,{Z:function(){return e}});var d=c(85893);function e(a){var b=a.title1,c=a.title2,e=a.value1,f=a.value2;return(0,d.jsxs)("div",{className:" mb-7 px-7 text-neutral",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("p",{className:"font-light pb-3",children:b}),(0,d.jsx)("p",{className:"font-light pb-3",children:c})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsxs)("p",{className:"text-3xl font-light",children:["$",e]}),(0,d.jsxs)("p",{className:"text-3xl font-light",children:[f,"%"]})]})]})}c(67294)},81811:function(a,b,c){c.d(b,{Z:function(){return e}});var d=c(85893);function e(a){var b=a.title,c=a.balance,e=a.symbol,f=a.amount,g=a.enabled,h=a.onChangeAmount,i=a.onClickMax,j=a.showMax;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between mt-6 text-neutral",children:[(0,d.jsx)("span",{className:"font-thin self-end",children:b}),(0,d.jsxs)("span",{className:"font-extralight flex",children:[(0,d.jsx)("span",{children:"Balance:"}),(0,d.jsxs)("span",{className:"text-right pl-2 text-light",children:[(0,d.jsx)("span",{className:"pr-1",children:c}),e]})]})]}),(0,d.jsxs)("div",{className:"bg-background flex justify-between p-2 my-4 text-neutral",children:[(0,d.jsx)("input",{className:"bg-transparent p-2 pl-3 focus:outline-none placeholder:text-xl placeholder:font-extralight placeholder:text-neutral w-full placeholder:opacity-60 text-xl font-extralight",type:"text",placeholder:g?"0.00":"",value:f,onChange:h,disabled:!g}),(0,d.jsx)("div",{className:"flex flex-col text-xs font-extralight justify-center px-2 items-end",children:(0,d.jsx)("span",{className:"text-xl",children:e})}),j&&(0,d.jsx)("button",{onClick:i,disabled:!g,className:"font-thin px-2",children:"Max"})]})]})}c(67294)},190:function(a,b,c){c.d(b,{y:function(){return h}});var d=c(81511),e=c(67294),f=c(81498),g=c(79423),h=function(){var a=(0,e.useState)(0),b=a[0],c=a[1],h=(0,g.v)(function(a){return a.network}),i=(0,f.Z)(function(a){return a.markets})[h.chainId],j=(0,f.Z)(function(a){return a.selectedMarketSymbol});return(0,e.useEffect)(function(){if(j&&i){var a=i.find(function(a){return a.underlying.symbol===j});c(+((null==a?void 0:a.underlying.allowance)||d.O.from(0)).toString())}},[i,j]),{allowance:b}}},80499:function(a,b,c){c.d(b,{V:function(){return i}});var d=c(85893),e=c(81511),f=c(77058),g=c(34277),h=c(79423),i=function(){var a=(0,f.$)().t,b=(0,h.v)(function(a){return a.network}),c=(0,g.y)(function(a){return a.generalData})[b.chainId],i=function(a){var b=(null==c?void 0:c.totalBorrowLimit)?null==c?void 0:c.totalBorrowLimit:e.O.from(0),d=(null==c?void 0:c.totalBorrowBalance)?null==c?void 0:c.totalBorrowBalance:e.O.from(0);return+b.toString()- +d.toString()},j=function(a,b,d){var e=a.isEnterMarket?+b*+a.collateralFactor.toString()*+a.underlying.price.toString():0,f=(null==c?void 0:c.totalBorrowLimit)?+(null==c?void 0:c.totalBorrowLimit.toString()):0;return d?f+e:f-e},k=function(a,b,d){var e=j(a,b,d),f=(null==c?void 0:c.totalBorrowBalance)?+(null==c?void 0:c.totalBorrowBalance.toString()):0;return e>0?100*f/e:0};return{getSupplyStats:function(b){return{title:a("dialog.supplyStats"),infos:[{title:a("dialog.supplyApy"),value:(0,d.jsxs)("p",{children:[b.supplyApy.mul(e.O.from("100")).toFixed(2),"%"]})},{title:a("dialog.supplyBalance"),value:(0,d.jsx)("p",{children:b.supplyBalance.convertToLargeNumberRepresentation(2,"$")})},]}},getSupplyStatsWithReward:function(b){return{title:a("dialog.supplyStats"),infos:[{title:a("dialog.supplyApy"),value:(0,d.jsxs)("p",{children:[b.supplyApy.mul(e.O.from("100")).toFixed(2),"%"]})},{title:a("dialog.supplyBalance"),value:(0,d.jsx)("p",{children:b.supplyBalance.convertToLargeNumberRepresentation(2,"$")})},{title:a("dialog.rewardApy"),value:(0,d.jsxs)("p",{children:[b.rewardAprs.sonneSupplyApr.add(b.rewardAprs.opSupplyApr).toFixed(2),"%"]})},]}},getCollateralStats:function(b){return{title:a("dialog.collateral"),infos:[{title:a("dialog.collateralFactor"),value:(0,d.jsxs)("p",{children:[b.collateralFactor.mul(e.O.from(100)).toFixed(2),"%"]})},{title:a("dialog.usedCol"),value:(0,d.jsx)("p",{children:b.isEnterMarket?"Yes":"No"})},]}},getBorrowLimit:function(b,e,f){var g;return{title:a("dialog.borrowLimit"),infos:[{title:a("dialog.yBorrowLimit"),value:(0,d.jsx)("p",{children:(null==c?void 0:c.totalBorrowBalance)?"$".concat(null==c?void 0:null===(g=c.totalBorrowLimit)|| void 0===g?void 0:g.toRound(2)," ").concat(void 0!==f?"-> $".concat(f.toFixed(2)):""):0})},{title:a("dialog.blUsed"),value:(0,d.jsxs)("p",{children:[(null==c?void 0:c.totalBorrowLimitUsedPercent)?"".concat(c.totalBorrowLimitUsedPercent.toRound(2),"% -> ").concat(void 0!==e?"infinite"===e?"infinite":(+e).toFixed(2):c.totalBorrowLimitUsedPercent.toRound(2)):"0","%"]})},]}},getBorrowStats:function(b){return{title:a("dialog.borrowStats"),infos:[{title:a("dialog.borrowApy"),value:(0,d.jsxs)("p",{children:[b.borrowApy.mul(e.O.from("100")).toFixed(2),"%"]})},{title:a("dialog.borrowBalance"),value:(0,d.jsx)("p",{children:b.borrowBalance.convertToLargeNumberRepresentation(2,"$")})},]}},getRemainingBorrowLimitInUnderlying:function(a){return i(a)/+a.underlying.price.toString()},getNewBorrowLimitUsedPct:function(a,b,d){var f=b*+a.underlying.price.toString(),g=(null==c?void 0:c.totalBorrowBalance)?null==c?void 0:c.totalBorrowBalance:e.O.from(0),h=d?+g.toString()+f:+g.toString()-f;return(null==c?void 0:c.totalBorrowLimit)?100*+h.toString()/+(null==c?void 0:c.totalBorrowLimit.toString()):0},getPctOfUsedBorrowLimitPerMarket:function(a){var b=(null==c?void 0:c.totalBorrowLimit)?null==c?void 0:c.totalBorrowLimit:e.O.from(0);return 100*+a.borrowBalance.toString()/+b.toString()},getAmountInUsd:function(a,b){return(+b*+a.underlying.price.toString()).toFixed(2)},getNewBorrowLimitAfterSupply:j,getNewBorrowLimitUsedPctAfterSupply:k}}}}])